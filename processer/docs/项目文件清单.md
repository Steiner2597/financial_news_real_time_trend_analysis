# é¡¹ç›®æ–‡ä»¶æ¸…å•

## ğŸ“ æ ¹ç›®å½•æ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `README.md` | é¡¹ç›®ä¸»æ–‡æ¡£ | é¡¹ç›®æ¦‚è¿°ã€å¿«é€Ÿå¼€å§‹ |
| `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md` | è¯¦ç»†å¯åŠ¨æ–‡æ¡£ | å®Œæ•´çš„å®‰è£…ã€é…ç½®ã€å¯åŠ¨è¯´æ˜ |
| `requirements.txt` | Pythonä¾èµ– | ç»Ÿä¸€çš„ä¾èµ–åŒ…åˆ—è¡¨ |
| `config.yaml` | ç»Ÿä¸€é…ç½® | æ‰€æœ‰æ¨¡å—çš„å‚è€ƒé…ç½® |
| `check_env.bat` | ç¯å¢ƒæ£€æŸ¥ | æ£€æŸ¥Pythonã€è™šæ‹Ÿç¯å¢ƒã€ä¾èµ– |
| `start_all.bat` | ä¸€é”®å¯åŠ¨ | å¯åŠ¨æ‰€æœ‰æ¨¡å— |
| `stop_all.bat` | ä¸€é”®åœæ­¢ | åœæ­¢æ‰€æœ‰æ¨¡å— |
| `sync_config.py` | é…ç½®åŒæ­¥ | åŒæ­¥å„æ¨¡å—çš„Redisé…ç½® |

## ğŸ“‚ æ¨¡å—ç»“æ„

### Scraperï¼ˆæ•°æ®é‡‡é›†æ¨¡å—ï¼‰
```
scraper/
â”œâ”€â”€ config.yaml              # çˆ¬è™«é…ç½®
â”œâ”€â”€ control_center.py        # ä¸»æ§ç¨‹åº
â”œâ”€â”€ crawlers/               # å„æ•°æ®æºçˆ¬è™«
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”œâ”€â”€ logs/                   # æ—¥å¿—ç›®å½•
â”œâ”€â”€ requirements.txt        # æ¨¡å—ä¾èµ–
â””â”€â”€ å¿«é€Ÿå¼€å§‹.md              # æ¨¡å—æ–‡æ¡£
```

### Cleanerï¼ˆæ•°æ®æ¸…æ´—æ¨¡å—ï¼‰
```
cleaner/
â”œâ”€â”€ config_processing_dl.yaml    # æ¸…æ´—é…ç½®
â”œâ”€â”€ data_cleaner_module_dl.py    # ä¸»æ¸…æ´—ç¨‹åº
â”œâ”€â”€ download_nltk.py             # NLTKæ•°æ®ä¸‹è½½
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â”œâ”€â”€ samples/                    # æ•°æ®æ ·æœ¬
â””â”€â”€ output/                     # è¾“å‡ºç›®å½•
```

### Processorï¼ˆæ•°æ®åˆ†ææ¨¡å—ï¼‰
```
processer/
â”œâ”€â”€ Analysis/
â”‚   â”œâ”€â”€ config.py           # åˆ†æé…ç½®
â”‚   â”œâ”€â”€ main.py            # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ redis_manager.py   # Redisç®¡ç†
â”‚   â””â”€â”€ ...                # å…¶ä»–åˆ†æè„šæœ¬
â”œâ”€â”€ Bert_Model/            # BERTæ¨¡å‹
â””â”€â”€ Format conversion/     # æ ¼å¼è½¬æ¢
```

### Visualizationï¼ˆå¯è§†åŒ–æ¨¡å—ï¼‰
```
visualization/
â”œâ”€â”€ backend/               # FastAPIåç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ config.py     # åç«¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ main.py       # FastAPIåº”ç”¨
â”‚   â”‚   â”œâ”€â”€ routes/       # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ services/     # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ requirement.txt   # åç«¯ä¾èµ–
â”‚   â””â”€â”€ verify_architecture.py  # æ¶æ„éªŒè¯
â””â”€â”€ frontend/             # Vue3å‰ç«¯
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/   # Vueç»„ä»¶
    â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
    â”‚   â””â”€â”€ views/        # é¡µé¢è§†å›¾
    â”œâ”€â”€ package.json      # å‰ç«¯ä¾èµ–
    â””â”€â”€ START_GUIDE.md    # å‰ç«¯æ–‡æ¡£
```

## ğŸ”„ æ•°æ®æµæ–‡ä»¶

### Redisé”®ç»“æ„

**DB0ï¼ˆåŸå§‹æ•°æ® + æœ€ç»ˆç»“æœï¼‰**
```
data_queue                    # Scraperè¾“å‡ºçš„åŸå§‹æ•°æ®é˜Ÿåˆ—
processed_data:metadata       # å¤„ç†åçš„å…ƒæ•°æ®
processed_data:trending_keywords  # çƒ­è¯æ•°æ®
processed_data:word_cloud     # è¯äº‘æ•°æ®
processed_data:news_feed      # æ–°é—»æ•°æ®
processed_data:history_data:* # å†å²è¶‹åŠ¿æ•°æ®
```

**DB1ï¼ˆä¸­é—´æ•°æ®ï¼‰**
```
clean_data_queue             # Cleanerè¾“å‡ºçš„æ¸…æ´—æ•°æ®
stats:accepted               # æ¸…æ´—ç»Ÿè®¡ï¼šæ¥å—æ•°
stats:discarded              # æ¸…æ´—ç»Ÿè®¡ï¼šä¸¢å¼ƒæ•°
cursor:data_queue            # æ¸…æ´—è¿›åº¦æ¸¸æ ‡
```

## ğŸ“ é…ç½®æ–‡ä»¶å¯¹ç…§

| æ¨¡å— | é…ç½®æ–‡ä»¶ | Redis DB | å…³é”®é…ç½®é¡¹ |
|------|---------|----------|-----------|
| **Scraper** | `scraper/config.yaml` | DB0 | `redis.db: 0`<br>`redis.queue_name: data_queue` |
| **Cleaner** | `cleaner/config_processing_dl.yaml` | DB0â†’DB1 | `redis.db_in: 0`<br>`redis.db_out: 1` |
| **Processor** | `processer/Analysis/config.py` | DB1â†’DB0 | `redis.db: 0` |
| **Visualization** | `visualization/backend/app/config.py` | DB0 | `REDIS_DB: 0` |

## ğŸš€ å¯åŠ¨é¡ºåº

```
1. RedisæœåŠ¡
   â†“
2. Scraperï¼ˆé‡‡é›†æ•°æ®ï¼‰
   â†“ è¾“å‡ºåˆ° DB0:data_queue
3. Cleanerï¼ˆæ¸…æ´—æ•°æ®ï¼‰
   â†“ è¾“å‡ºåˆ° DB1:clean_data_queue
4. Processorï¼ˆåˆ†ææ•°æ®ï¼‰
   â†“ è¾“å‡ºåˆ° DB0:processed_data:*
5. Visualization Backendï¼ˆæä¾›APIï¼‰
   â†“ ä» DB0:processed_data:* è¯»å–
6. Visualization Frontendï¼ˆå±•ç¤ºç•Œé¢ï¼‰
```

## ğŸ“Š æ—¥å¿—æ–‡ä»¶

| æ¨¡å— | æ—¥å¿—ä½ç½® | ä¸»è¦æ–‡ä»¶ |
|------|---------|---------|
| Scraper | `scraper/logs/` | `scraper_*.log` |
| Cleaner | `cleaner/logs/` | `runtime.log`, `error.log` |
| Processor | `processer/logs/` | å„åˆ†ææ¨¡å—æ—¥å¿— |
| Visualization | æ§åˆ¶å° | ç›´æ¥è¾“å‡ºåˆ°å¯åŠ¨çª—å£ |

## ğŸ”§ é‡è¦è„šæœ¬

### æ ¹ç›®å½•è„šæœ¬

**check_env.bat**
- æ£€æŸ¥Pythonç‰ˆæœ¬
- æ£€æŸ¥/åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- æ£€æŸ¥ä¾èµ–åŒ…
- æ£€æŸ¥RedisæœåŠ¡

**start_all.bat**
- æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
- æŒ‰é¡ºåºå¯åŠ¨æ‰€æœ‰æ¨¡å—
- æ¯ä¸ªæ¨¡å—åœ¨ç‹¬ç«‹çª—å£è¿è¡Œ

**stop_all.bat**
- å…³é—­æ‰€æœ‰æ¨¡å—çª—å£
- æ¸…ç†è¿›ç¨‹

**sync_config.py**
- ä»æ ¹ç›®å½•config.yamlè¯»å–é…ç½®
- åŒæ­¥åˆ°å„æ¨¡å—é…ç½®æ–‡ä»¶
- éªŒè¯é…ç½®ä¸€è‡´æ€§

### æ¨¡å—è„šæœ¬

**Scraper**
- `control_center.py`: çˆ¬è™«æ§åˆ¶ä¸­å¿ƒ
- `start_redis.bat`: å¯åŠ¨Redisï¼ˆWindowsï¼‰

**Cleaner**
- `data_cleaner_module_dl.py`: ä¸»æ¸…æ´—ç¨‹åº
- `download_nltk.py`: ä¸‹è½½NLTKæ•°æ®

**Processor**
- `Analysis/main.py`: ä¸»åˆ†æç¨‹åº
- `Bert_Model/train_bert.py`: BERTè®­ç»ƒï¼ˆå¦‚éœ€è¦ï¼‰

**Visualization**
- `backend/verify_architecture.py`: éªŒè¯åç«¯æ¶æ„
- `frontend/start.bat`: å‰ç«¯å¿«é€Ÿå¯åŠ¨

## ğŸ“š æ–‡æ¡£æ¸…å•

### æ ¹ç›®å½•æ–‡æ¡£
- `README.md` - é¡¹ç›®ä¸»æ–‡æ¡£
- `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md` - è¯¦ç»†å¯åŠ¨æŒ‡å—
- æœ¬æ–‡ä»¶ - é¡¹ç›®æ–‡ä»¶æ¸…å•

### æ¨¡å—æ–‡æ¡£

**Scraper**
- `å¿«é€Ÿå¼€å§‹.md`
- `APIå¯†é’¥é…ç½®æŒ‡å—.md`
- `Twitteré…ç½®æŒ‡å—.md`
- `å¸¸è§é—®é¢˜.md`

**Cleaner**
- `ä¸åŒç‰ˆæœ¬è§£é‡Š.txt`

**Processor**
- `READMEMEMMEMEMEME.txt`

**Visualization**
- `frontend/START_GUIDE.md`
- `frontend/TESTING_GUIDE.md`
- `backend/MIGRATION_SUMMARY.md`
- `backend/QUICK_REFERENCE.md`

## ğŸ¯ å¿«é€ŸæŸ¥æ‰¾

### éœ€è¦ä¿®æ”¹Redisé…ç½®ï¼Ÿ
1. ç¼–è¾‘æ ¹ç›®å½• `config.yaml`
2. è¿è¡Œ `python sync_config.py`
3. æˆ–æ‰‹åŠ¨ç¼–è¾‘å„æ¨¡å—é…ç½®æ–‡ä»¶

### éœ€è¦æ·»åŠ Pythonä¾èµ–ï¼Ÿ
1. åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…: `pip install package_name`
2. æ›´æ–°æ ¹ç›®å½• `requirements.txt`
3. æˆ–æ›´æ–°å¯¹åº”æ¨¡å—çš„requirements.txt

### é‡åˆ°å¯åŠ¨é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹ `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md` çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æ£€æŸ¥å¯¹åº”æ¨¡å—çš„æ—¥å¿—æ–‡ä»¶
3. è¿è¡Œ `check_env.bat` æ£€æŸ¥ç¯å¢ƒ

### éœ€è¦æŸ¥çœ‹æ•°æ®ï¼Ÿ
```bash
# è¿æ¥Redis
redis-cli

# æŸ¥çœ‹DB0
SELECT 0
KEYS *

# æŸ¥çœ‹DB1
SELECT 1
KEYS *

# æŸ¥çœ‹æŸä¸ªé”®çš„å†…å®¹
GET processed_data:metadata
```

## ğŸ“¦ ä¾èµ–åŒ…åˆ†ç±»

### æ‰€æœ‰æ¨¡å—é€šç”¨
- redis
- PyYAML
- python-dateutil
- requests

### Scraperä¸“ç”¨
- praw, prawcore (Reddit)
- feedparser (RSS)
- newsapi-python
- snscrape (Twitter)
- schedule

### Cleanerä¸“ç”¨
- nltk

### Processorä¸“ç”¨
- pandas, numpy
- torch, transformers
- scikit-learn

### Visualizationä¸“ç”¨
- fastapi, uvicorn
- asyncio

## ğŸ” é…ç½®æ–‡ä»¶ä¸­çš„æ•æ„Ÿä¿¡æ¯

âš ï¸ **æ³¨æ„**: ä»¥ä¸‹æ–‡ä»¶å¯èƒ½åŒ…å«APIå¯†é’¥ï¼Œä¸åº”æäº¤åˆ°å…¬å…±ä»“åº“ï¼š

- `scraper/config.yaml` - NewsAPIå¯†é’¥ã€Redditå‡­è¯ç­‰
- `.env` æ–‡ä»¶ï¼ˆå¦‚æœä½¿ç”¨ï¼‰

å»ºè®®ï¼š
1. ä½¿ç”¨ `.gitignore` å¿½ç•¥è¿™äº›æ–‡ä»¶
2. åˆ›å»º `config.yaml.example` ä½œä¸ºæ¨¡æ¿
3. å®é™…å¯†é’¥å­˜å‚¨åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- é¡¹ç›®Issues: https://github.com/Steiner2597/financial_news_real_time_trend_analysis_visualization/issues
- è¯¦ç»†æ–‡æ¡£: å‚è€ƒå„æ¨¡å—çš„ä¸“å±æ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2025-10-27
