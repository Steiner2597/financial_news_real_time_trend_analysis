# é‡‘èæ–°é—»å®æ—¶è¶‹åŠ¿åˆ†æå¯è§†åŒ–ç³»ç»Ÿ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ç›®å½•
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¯åŠ¨](#å¿«é€Ÿå¯åŠ¨)
- [è¯¦ç»†å¯åŠ¨æ­¥éª¤](#è¯¦ç»†å¯åŠ¨æ­¥éª¤)
- [æ¨¡å—è¯´æ˜](#æ¨¡å—è¯´æ˜)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å®Œæ•´æ•°æ®æµ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Scraper          Cleaner         Processor      Visualization
  â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”
  â”‚ çˆ¬å– â”‚ â”€â”€â”€â”€>  â”‚ æ¸…æ´— â”‚ â”€â”€â”€â”€>   â”‚ åˆ†æ â”‚ â”€â”€â”€â”€>  â”‚ å±•ç¤º â”‚
  â”‚ æ–°é—» â”‚        â”‚ æ•°æ® â”‚         â”‚ å¤„ç† â”‚        â”‚ ç•Œé¢ â”‚
  â””â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”˜
      â”‚               â”‚               â”‚               â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      Redis (æ•°æ®æ€»çº¿)

æ•°æ®åº“åˆ†é…ï¼š
- DB0: åŸå§‹æ•°æ®ï¼ˆScraper è¾“å‡ºï¼‰
- DB1: æ¸…æ´—åçš„ä¸­é—´æ•°æ®ï¼ˆCleaner è¾“å‡ºï¼‰
- DB2: æœ€ç»ˆå¤„ç†ç»“æœ processed_dataï¼ˆProcessor è¾“å‡ºï¼‰
```

---

## ğŸ’» ç¯å¢ƒè¦æ±‚

### å¿…éœ€è½¯ä»¶
- **Python**: 3.9-3.11
- **Redis**: 2.8+ ï¼ˆæ¨è 6.0+ï¼‰
- **Node.js**: 16.0+ ï¼ˆå‰ç«¯éœ€è¦ï¼‰
- **Conda/Miniconda**: ï¼ˆæ¨èï¼‰ç”¨äºç¯å¢ƒç®¡ç†

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, Linux, macOS
- **å†…å­˜**: è‡³å°‘ 4GB RAM
- **ç£ç›˜**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# 1. é¦–æ¬¡ä½¿ç”¨ï¼Œæ£€æŸ¥ç¯å¢ƒ
check_env.bat

# 2. å¯åŠ¨æ‰€æœ‰æ¨¡å—
start_all.bat

# 3. åœæ­¢æ‰€æœ‰æ¨¡å—
stop_all.bat
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda activate cs5481project

# 2. ç¡®ä¿Redisè¿è¡Œ
redis-cli ping

# 3. ä¾æ¬¡å¯åŠ¨å„æ¨¡å—ï¼ˆå‚è€ƒè¯¦ç»†æ­¥éª¤ï¼‰
```

---

## ğŸ“– è¯¦ç»†å¯åŠ¨æ­¥éª¤

### æ­¥éª¤ 1: ç¯å¢ƒå‡†å¤‡

#### 1.1 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
# ä½¿ç”¨Condaåˆ›å»ºç¯å¢ƒï¼ˆæ¨èï¼‰
conda create -n cs5481project python=3.10 -y
conda activate cs5481project

# æˆ–ä½¿ç”¨venv
python -m venv cs5481project
# Windows
cs5481project\Scripts\activate
# Linux/Mac
source cs5481project/bin/activate
```

#### 1.2 å®‰è£…ä¾èµ–
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
pip install -r requirements.txt
```

#### 1.3 å®‰è£…ç‰¹å®šæ¨¡å—ä¾èµ–

**NLTKæ•°æ®ï¼ˆCleaneræ¨¡å—éœ€è¦ï¼‰**
```bash
cd cleaner
python download_nltk.py
cd ..
```

**å‰ç«¯ä¾èµ–ï¼ˆVisualizationéœ€è¦ï¼‰**
```bash
cd visualization/frontend
npm install
cd ../..
```

### æ­¥éª¤ 2: å¯åŠ¨Redis

```bash
# Windows
cd scraper
start_redis.bat

# Linux/Mac
redis-server

# éªŒè¯Redisè¿è¡Œ
redis-cli ping
# åº”è¯¥è¿”å›: PONG
```

### æ­¥éª¤ 3: å¯åŠ¨å„æ¨¡å—

**é‡è¦ï¼šæŒ‰é¡ºåºå¯åŠ¨ï¼Œç¡®ä¿æ•°æ®æµæ­£å¸¸**

#### 3.1 å¯åŠ¨ Scraperï¼ˆæ•°æ®é‡‡é›†ï¼‰
```bash
cd scraper
python control_center.py
```

**åŠŸèƒ½**ï¼š
- ä»å¤šä¸ªæ¥æºæŠ“å–é‡‘èæ–°é—»
- æ”¯æŒ: NewsAPI, RSS, Reddit, Twitter, StockTwits
- è¾“å‡ºåˆ° Redis DB0 çš„ `data_queue`

#### 3.2 å¯åŠ¨ Cleanerï¼ˆæ•°æ®æ¸…æ´—ï¼‰
```bash
cd cleaner
python data_cleaner_module_dl.py
```

**åŠŸèƒ½**ï¼š
- ä» Redis DB0 è¯»å–åŸå§‹æ•°æ®
- æ¸…æ´—ã€å»é‡ã€æ ‡å‡†åŒ–
- è¾“å‡ºåˆ° Redis DB1 çš„ `clean_data_queue`

#### 3.3 å¯åŠ¨ Processorï¼ˆæ•°æ®å¤„ç†ï¼‰
```bash
cd processer/Analysis
python main.py
```

**åŠŸèƒ½**ï¼š
- ä» Redis DB1 è¯»å–æ¸…æ´—æ•°æ®
- æƒ…æ„Ÿåˆ†æï¼ˆBERTæ¨¡å‹ï¼‰
- çƒ­è¯æå–ã€è¯äº‘ç”Ÿæˆ
- è¾“å‡ºåˆ° Redis DB2 çš„ `processed_data:*`

#### 3.4 å¯åŠ¨ Visualization Backendï¼ˆåç«¯APIï¼‰
```bash
cd visualization/backend
python run.py
```

**åŠŸèƒ½**ï¼š
- æä¾› RESTful API
- WebSocket å®æ—¶æ¨é€
- ä» Redis DB2 è¯»å– `processed_data:*`
- è®¿é—®: http://localhost:8000

#### 3.5 å¯åŠ¨ Visualization Frontendï¼ˆå‰ç«¯ç•Œé¢ï¼‰
```bash
cd visualization/frontend
npm run dev
```

**åŠŸèƒ½**ï¼š
- Vue3 + ECharts å¯è§†åŒ–ç•Œé¢
- å®æ—¶è¶‹åŠ¿å›¾è¡¨
- è¯äº‘å±•ç¤º
- æ–°é—»åˆ—è¡¨
- è®¿é—®: http://localhost:5173

---

## ğŸ”§ æ¨¡å—è¯´æ˜

### Scraperï¼ˆçˆ¬è™«æ¨¡å—ï¼‰
| é…ç½®æ–‡ä»¶ | è¯´æ˜ |
|---------|------|
| `config.yaml` | æ•°æ®æºé…ç½®ã€APIå¯†é’¥ |
| `control_center.py` | ä¸»æ§åˆ¶ç¨‹åº |

**å…³é”®é…ç½®**ï¼š
```yaml
redis:
  db: 0
  queue_name: data_queue

# å¯ç”¨/ç¦ç”¨æ•°æ®æº
newsapi:
  enabled: true
reddit:
  enabled: false
```

### Cleanerï¼ˆæ¸…æ´—æ¨¡å—ï¼‰
| é…ç½®æ–‡ä»¶ | è¯´æ˜ |
|---------|------|
| `config_processing_dl.yaml` | æ¸…æ´—è§„åˆ™é…ç½® |
| `data_cleaner_module_dl.py` | ä¸»æ¸…æ´—ç¨‹åº |

**å…³é”®é…ç½®**ï¼š
```yaml
redis:
  db_in: 0   # è¯»å–åŸå§‹æ•°æ®
  db_out: 1  # è¾“å‡ºæ¸…æ´—æ•°æ®
  queue_in: data_queue
  queue_out: clean_data_queue
```

### Processorï¼ˆåˆ†ææ¨¡å—ï¼‰
| é…ç½®æ–‡ä»¶ | è¯´æ˜ |
|---------|------|
| `Analysis/config.py` | å¤„ç†å™¨é…ç½® |
| `Analysis/main.py` | ä¸»åˆ†æç¨‹åº |

**å…³é”®é…ç½®**ï¼š
```python
CONFIG = {
    "redis": {
        "input_db": 1,   # ä»DB1è¯»å–
        "output_db": 2,  # è¾“å‡ºåˆ°DB2
    }
}
```

### Visualizationï¼ˆå¯è§†åŒ–æ¨¡å—ï¼‰
| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| `backend/` | FastAPIåç«¯ |
| `frontend/` | Vue3å‰ç«¯ |

**åç«¯é…ç½®**ï¼š
```python
# backend/app/config.py
REDIS_DB: int = 2  # ä»DB2è¯»å–processed_data
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç»Ÿä¸€Redisé…ç½®

æ‰€æœ‰æ¨¡å—çš„Redisé…ç½®åº”ä¿æŒä¸€è‡´ï¼š

```yaml
# æ ¹ç›®å½• config.yamlï¼ˆå‚è€ƒé…ç½®ï¼‰
redis:
  host: "localhost"
  port: 6379
  password: null
  
  databases:
    scraper_output: 0      # Scraperè¾“å‡º
    cleaner_input: 0       # Cleanerè¾“å…¥
    cleaner_output: 1      # Cleanerè¾“å‡º
    processor_input: 1     # Processorè¾“å…¥
    processor_output: 2    # Processorè¾“å‡º
    visualization: 2       # Visualizationè¯»å–
```

### å…³é”®æ•°æ®æµ

```
Redis DB0:
  - data_queue          [Scraper â†’ Cleaner]

Redis DB1:
  - clean_data_queue    [Cleaner â†’ Processor]

Redis DB2:
  - processed_data:*    [Processor â†’ Visualization]
```

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. Redisè¿æ¥å¤±è´¥
```
é”™è¯¯: Redis connection refused
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥Redisæ˜¯å¦è¿è¡Œ
redis-cli ping

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨Redis
# Windows
cd scraper
start_redis.bat

# Linux/Mac
redis-server
```

### 2. è™šæ‹Ÿç¯å¢ƒæœªæ¿€æ´»
```
é”™è¯¯: ModuleNotFoundError: No module named 'redis'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
conda activate cs5481project

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 3. ç«¯å£è¢«å ç”¨
```
é”™è¯¯: Address already in use: 8000
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# Windows - æŸ¥æ‰¾å¹¶å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8000
taskkill /PID <è¿›ç¨‹ID> /F

# Linux/Mac
lsof -ti:8000 | xargs kill -9
```

### 4. å‰ç«¯å¯åŠ¨å¤±è´¥
```
é”™è¯¯: npm: command not found
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# å®‰è£…Node.js
# ä» https://nodejs.org/ ä¸‹è½½å®‰è£…

# éªŒè¯å®‰è£…
node --version
npm --version
```

### 5. NLTKæ•°æ®ç¼ºå¤±
```
é”™è¯¯: Resource punkt not found
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
cd cleaner
python download_nltk.py
```

### 6. çœ‹ä¸åˆ°æ•°æ®æµåŠ¨

**æ£€æŸ¥æ¸…å•**ï¼š
1. âœ… Redisæ­£åœ¨è¿è¡Œ
2. âœ… æ‰€æœ‰æ¨¡å—æŒ‰é¡ºåºå¯åŠ¨
3. âœ… æ£€æŸ¥å„æ¨¡å—æ—¥å¿—æ–‡ä»¶
   - `scraper/logs/`
   - `cleaner/logs/`
   - `processer/logs/`
4. âœ… ä½¿ç”¨Rediså®¢æˆ·ç«¯æ£€æŸ¥æ•°æ®ï¼š
   ```bash
   redis-cli
   SELECT 0
   KEYS *
   ```

### 7. Processor BERTæ¨¡å‹ä¸‹è½½æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
# è®¾ç½®å›½å†…é•œåƒ
export HF_ENDPOINT=https://hf-mirror.com

# æˆ–æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹åˆ°æœ¬åœ°
```

---

## ğŸ“Š éªŒè¯ç³»ç»Ÿè¿è¡Œ

### 1. æ£€æŸ¥Redisæ•°æ®
```bash
redis-cli
SELECT 0
KEYS *
# åº”è¯¥çœ‹åˆ°: data_queue, processed_data:*, ç­‰

GET processed_data:metadata
# åº”è¯¥è¿”å›JSONæ ¼å¼çš„å…ƒæ•°æ®
```

### 2. è®¿é—®API
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# è·å–çƒ­è¯
curl http://localhost:8000/api/v1/trends/trending-keywords

# æŸ¥çœ‹APIæ–‡æ¡£
æµè§ˆå™¨æ‰“å¼€: http://localhost:8000/docs
```

### 3. è®¿é—®å‰ç«¯
```
æµè§ˆå™¨æ‰“å¼€: http://localhost:5173
åº”è¯¥çœ‹åˆ°:
- çƒ­è¯è¶‹åŠ¿å›¾
- è¯äº‘
- æ–°é—»åˆ—è¡¨
- å®æ—¶æ›´æ–°
```

---

## ğŸ”„ æ—¥å¸¸ä½¿ç”¨æµç¨‹

### å¯åŠ¨ç³»ç»Ÿ
```bash
# ä¸€é”®å¯åŠ¨
start_all.bat

# æˆ–æ‰‹åŠ¨å¯åŠ¨
conda activate cs5481project
# ç„¶åä¾æ¬¡å¯åŠ¨å„æ¨¡å—
```

### åœæ­¢ç³»ç»Ÿ
```bash
# ä¸€é”®åœæ­¢
stop_all.bat

# æˆ–æ‰‹åŠ¨åœæ­¢ï¼ˆCtrl+Cå„ä¸ªçª—å£ï¼‰
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# Scraperæ—¥å¿—
tail -f scraper/logs/*.log

# Cleaneræ—¥å¿—
tail -f cleaner/logs/runtime.log

# Processoræ—¥å¿—
tail -f processer/logs/*.log

# Visualizationæ—¥å¿—
# ç›´æ¥åœ¨å¯åŠ¨çª—å£æŸ¥çœ‹
```

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- **Scraperæ¨¡å—**: `scraper/å¿«é€Ÿå¼€å§‹.md`
- **Cleaneræ¨¡å—**: `cleaner/ä¸åŒç‰ˆæœ¬è§£é‡Š.txt`
- **Processoræ¨¡å—**: `processer/READMEMEMMEMEMEME.txt`
- **Visualizationæ¨¡å—**: `visualization/frontend/START_GUIDE.md`
- **æ¶æ„è¿ç§»**: `visualization/backend/MIGRATION_SUMMARY.md`

---

## ğŸ†˜ è·å–å¸®åŠ©

### é—®é¢˜æ’æŸ¥é¡ºåº
1. æŸ¥çœ‹å¯¹åº”æ¨¡å—çš„æ—¥å¿—æ–‡ä»¶
2. æ£€æŸ¥Redisè¿æ¥å’Œæ•°æ®
3. éªŒè¯Pythonç¯å¢ƒå’Œä¾èµ–
4. æŸ¥é˜…å„æ¨¡å—çš„è¯¦ç»†æ–‡æ¡£
5. æŸ¥çœ‹å¸¸è§é—®é¢˜éƒ¨åˆ†

### æŠ€æœ¯æ”¯æŒ
- é¡¹ç›®ä»“åº“: https://github.com/Steiner2597/financial_news_real_time_trend_analysis_visualization
- Issueè·Ÿè¸ª: æäº¤åˆ°é¡¹ç›®Issues

---

## âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥æ¸…å•

è¿è¡Œå‰ç¡®è®¤ï¼š
- [ ] Python 3.9-3.11 å·²å®‰è£…
- [ ] Redis æœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] è™šæ‹Ÿç¯å¢ƒ cs5481project å·²åˆ›å»ºå¹¶æ¿€æ´»
- [ ] requirements.txt ä¾èµ–å·²å®‰è£…
- [ ] NLTKæ•°æ®å·²ä¸‹è½½ï¼ˆCleaneréœ€è¦ï¼‰
- [ ] Node.jså’Œnpmå·²å®‰è£…ï¼ˆå‰ç«¯éœ€è¦ï¼‰
- [ ] å‰ç«¯ä¾èµ–å·²å®‰è£…ï¼ˆnpm installï¼‰

è¿è¡Œä¸­ç¡®è®¤ï¼š
- [ ] Scraper åœ¨é‡‡é›†æ•°æ®ï¼ˆæ£€æŸ¥æ—¥å¿—ï¼‰
- [ ] Cleaner åœ¨æ¸…æ´—æ•°æ®ï¼ˆæ£€æŸ¥æ—¥å¿—ï¼‰
- [ ] Processor åœ¨åˆ†ææ•°æ®ï¼ˆæ£€æŸ¥æ—¥å¿—ï¼‰
- [ ] Visualizationåç«¯å“åº”æ­£å¸¸ï¼ˆè®¿é—®/healthï¼‰
- [ ] å‰ç«¯ç•Œé¢æ˜¾ç¤ºæ­£å¸¸ï¼ˆè®¿é—®5173ç«¯å£ï¼‰
- [ ] Redisä¸­æœ‰æ•°æ®æµåŠ¨ï¼ˆredis-cliæ£€æŸ¥ï¼‰

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰**

æœ€åæ›´æ–°: 2025-10-27
