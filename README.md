# é‡‘èæ–°é—»å®æ—¶è¶‹åŠ¿åˆ†æå¯è§†åŒ–ç³»ç»Ÿ

[![Python Version](https://img.shields.io/badge/python-3.9--3.11-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

> ä¸€ä¸ªå®Œæ•´çš„é‡‘èæ–°é—»æ•°æ®é‡‡é›†ã€æ¸…æ´—ã€åˆ†æå’Œå¯è§†åŒ–ç³»ç»Ÿ

## ğŸŒŸ é¡¹ç›®ç‰¹æ€§

- ğŸ” **å¤šæºæ•°æ®é‡‡é›†**: NewsAPI, RSS, Reddit, Twitter, StockTwits
- ğŸ§¹ **æ™ºèƒ½æ•°æ®æ¸…æ´—**: å»é‡ã€æ ‡å‡†åŒ–ã€æ–‡æœ¬é¢„å¤„ç†ã€å­—æ®µè§„èŒƒåŒ–
- ğŸ¤– **AIæƒ…æ„Ÿåˆ†æ**: åŸºäºBERTçš„æƒ…æ„Ÿåˆ†ç±»
- ğŸ“Š **å®æ—¶å¯è§†åŒ–**: äº¤äº’å¼å›¾è¡¨ã€è¯äº‘ã€çƒ­è¯è¶‹åŠ¿
- âš¡ **é«˜æ€§èƒ½**: Redisæ•°æ®æ€»çº¿ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„
- ğŸ”„ **å®æ—¶æ›´æ–°**: WebSocketæ¨é€ï¼Œ24å°æ—¶æ•°æ®æ»šåŠ¨çª—å£
- ğŸ—‘ï¸ **è‡ªåŠ¨æ¸…ç†**: æ™ºèƒ½æ•°æ®ä¿ç•™ç­–ç•¥ï¼Œé˜²æ­¢å†…å­˜æº¢å‡º

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scraper â”‚â”€â”€â”€â–¶â”‚ Cleaner â”‚â”€â”€â”€â–¶â”‚Processor â”‚â”€â”€â”€â–¶â”‚Visualization â”‚
â”‚  çˆ¬å–   â”‚    â”‚  æ¸…æ´—   â”‚    â”‚  åˆ†æ    â”‚    â”‚   å¯è§†åŒ–     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚               â”‚                  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Redis (äº‹ä»¶é©±åŠ¨ + æ•°æ®æ€»çº¿)
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

**âš¡ åªéœ€ 3 æ­¥ï¼š**

1. **å®‰è£…ä¾èµ–** â†’ 2. **å¯åŠ¨ Redis** â†’ 3. **æŒ‰é¡ºåºå¯åŠ¨ 4 ä¸ªæ¨¡å—**

ğŸ“– è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ï¼š**[å¿«é€Ÿå¯åŠ¨æŒ‡å—.md](å¿«é€Ÿå¯åŠ¨æŒ‡å—.md)**

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# 1. ç¯å¢ƒæ£€æŸ¥
check_env.bat

# 2. å¯åŠ¨æ‰€æœ‰æ¨¡å—
start_all.bat

# 3. è®¿é—®å‰ç«¯
http://localhost:5173
```

### æ‰‹åŠ¨å¯åŠ¨ï¼ˆ4ä¸ªç»ˆç«¯ï¼ŒæŒ‰é¡ºåºï¼‰
**å‘½ä»¤è¡Œï¼š**:
```bash
# ç»ˆç«¯1: Cleanerï¼ˆç›‘å¬ç­‰å¾…ï¼‰
cd cleaner && start_cleaner

# ç»ˆç«¯2: Processorï¼ˆç›‘å¬ç­‰å¾…ï¼‰
cd processer/Analysis && start_processor

# ç»ˆç«¯3: Scraperï¼ˆè§¦å‘æµç¨‹ï¼‰
cd scraper && python run

# ç»ˆç«¯4: Backendï¼ˆAPIæœåŠ¡ï¼‰
cd visualization/backend && python run.py

# ç»ˆç«¯5: Frontend
cd visualization/frontend && npm run dev
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
financial_real_time_trend_analysis/
â”œâ”€â”€ scraper/                    # ğŸ“¡ æ•°æ®é‡‡é›†æ¨¡å—
â”‚   â”œâ”€â”€ control_center.py      # ä¸»æ§åˆ¶å™¨
â”‚   â””â”€â”€ crawlers/               # å„æ•°æ®æºçˆ¬è™«
â”œâ”€â”€ cleaner/                    # ğŸ§¹ æ•°æ®æ¸…æ´—æ¨¡å—
â”‚   â”œâ”€â”€ event_driven/           # äº‹ä»¶é©±åŠ¨ç‰ˆæœ¬
â”‚   â”‚   â”œâ”€â”€ cleaner.py         # ä¸»ç¨‹åºï¼ˆä½¿ç”¨è¿™ä¸ªï¼‰
â”‚   â”‚   â””â”€â”€ single_pass_cleaner.py
â”‚   â””â”€â”€ download_nltk.py       # NLTK æ•°æ®ä¸‹è½½ï¼ˆå¿…é¡»å…ˆè¿è¡Œï¼‰
â”œâ”€â”€ processer/                  # ğŸ¤– æ•°æ®åˆ†ææ¨¡å—
â”‚   â””â”€â”€ Analysis/
â”‚       â”œâ”€â”€ processor_event_driven.py  # äº‹ä»¶é©±åŠ¨å¤„ç†å™¨ï¼ˆä½¿ç”¨è¿™ä¸ªï¼‰
â”‚       â””â”€â”€ main.py            # åˆ†æä¸»é€»è¾‘
â”œâ”€â”€ visualization/              # ğŸ“Š å¯è§†åŒ–æ¨¡å—
â”‚   â”œâ”€â”€ backend/               # FastAPI åç«¯
â”‚   â”‚   â””â”€â”€ app/main.py
â”‚   â””â”€â”€ frontend/              # Vue3 å‰ç«¯
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–
â”œâ”€â”€ å¿«é€Ÿå¯åŠ¨æŒ‡å—.md             # âš¡ è¯¦ç»†å¯åŠ¨æ–‡æ¡£
â”œâ”€â”€ è‡ªåŠ¨æ•°æ®æ¸…ç†æœºåˆ¶è¯´æ˜.md     # ğŸ—‘ï¸ æ•°æ®ä¿ç•™ç­–ç•¥
â””â”€â”€ check_env.bat             # ç¯å¢ƒæ£€æŸ¥è„šæœ¬
```

## ğŸ“Š æ•°æ®æµä¸äº‹ä»¶é©±åŠ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  crawler_complete  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  cleaner_complete  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scraper â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Cleaner â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Processor â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                               â”‚                               â”‚
     â–¼ DB0: data_queue              â–¼ DB1: clean_data_queue         â–¼ DB2: processed_data
   ğŸ—‘ï¸ æ¸…ç†>24h                      ğŸ—‘ï¸ æ¸…ç†>24h                     
```

**Redis æ•°æ®åº“åˆ†é…**ï¼š
- **DB0**: åŸå§‹æ•°æ®é˜Ÿåˆ— (`data_queue`) + æœ€ç»ˆç»“æœ (`processed_data:*`)
- **DB1**: æ¸…æ´—åæ•°æ®é˜Ÿåˆ— (`clean_data_queue`)
- **DB2**: Processor è¾“å‡ºç¼“å­˜

**äº‹ä»¶é€šçŸ¥**ï¼š
- `crawler_complete`: Scraper â†’ Cleanerï¼ˆè§¦å‘æ¸…æ´—ï¼‰
- `cleaner_complete`: Cleaner â†’ Processorï¼ˆè§¦å‘åˆ†æï¼‰

## ğŸ”§ æ ¸å¿ƒé…ç½®

### Redis è¿æ¥ï¼ˆæ‰€æœ‰æ¨¡å—ç»Ÿä¸€ï¼‰

```yaml
redis:
  host: localhost
  port: 6379
```

### æ¨¡å—å¯åŠ¨é¡ºåº

| é¡ºåº | æ¨¡å— | Windows (bat è„šæœ¬) | Linux/Mac | è¯´æ˜ |
|------|------|-------------------|-----------|------|
| 1ï¸âƒ£ | Cleaner | `start_cleaner.bat` | `python cleaner.py` | ç›‘å¬ç­‰å¾… Scraper é€šçŸ¥ |
| 2ï¸âƒ£ | Processor | `start_processor.bat` | `python processor_event_driven.py` | ç›‘å¬ç­‰å¾… Cleaner é€šçŸ¥ |
| 3ï¸âƒ£ | Scraper | `run.bat` â†’ é€‰ 2 | `python control_center.py` | **è§¦å‘æµç¨‹**ï¼šçˆ¬å– â†’ é€šçŸ¥ Cleaner |
| 4ï¸âƒ£ | Backend | *(æ—  bat)* | `python run.py` | API æœåŠ¡ |
| 5ï¸âƒ£ | Frontend | `start.bat` | `npm run dev` | å‰ç«¯ç•Œé¢ï¼ˆå¯é€‰ï¼‰ |

**äº‹ä»¶æµ**ï¼š
```
Scraper å®Œæˆ â†’ crawler_complete â†’ Cleaner å¼€å§‹
Cleaner å®Œæˆ â†’ cleaner_complete â†’ Processor å¼€å§‹
Processor å®Œæˆ â†’ ç»“æœå†™å…¥ Redis â†’ Visualization å±•ç¤º
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ğŸ” Scraperï¼ˆæ•°æ®é‡‡é›†ï¼‰
- å¤šæ•°æ®æºï¼šNewsAPI, RSS, Reddit, Twitter, StockTwits
- æ™ºèƒ½é™æµä¸é…é¢ç®¡ç†
- **è‡ªåŠ¨æ¸…ç†è¶…è¿‡ 24 å°æ—¶çš„æ•°æ®**
- å®Œæˆåå‘é€ `crawler_complete` é€šçŸ¥

### 2. ğŸ§¹ Cleanerï¼ˆæ•°æ®æ¸…æ´—ï¼‰
- **å¿…é¡»å…ˆè¿è¡Œ `download_nltk.py` ä¸‹è½½ NLTK æ•°æ®**
- å­—æ®µè§„èŒƒåŒ–ï¼šæå– `id`, `created_at`, `text`
- æ—¶é—´æ ¼å¼ç»Ÿä¸€ï¼šæ”¯æŒå¤šç§æ—¶é—´æ ¼å¼è½¬æ¢
- æ™ºèƒ½å»é‡ï¼šåŸºäº ID æˆ– URL
- **è‡ªåŠ¨æ¸…ç†è¶…è¿‡ 24 å°æ—¶çš„æ•°æ®**
- äº‹ä»¶é©±åŠ¨ï¼šç›‘å¬ `crawler_complete`ï¼Œå®Œæˆåå‘é€ `cleaner_complete`

### 3. ğŸ¤– Processorï¼ˆæ•°æ®åˆ†æï¼‰
- BERT æƒ…æ„Ÿåˆ†æï¼ˆBullish/Bearish/Neutralï¼‰
- çƒ­è¯æå–ä¸è¯äº‘ç”Ÿæˆ
- 24 å°æ—¶å†å²è¶‹åŠ¿å¯¹æ¯”
- äº‹ä»¶é©±åŠ¨ï¼šç›‘å¬ `cleaner_complete`

### 4. ğŸ“Š Visualizationï¼ˆå¯è§†åŒ–ï¼‰
- å®æ—¶è¶‹åŠ¿å›¾è¡¨
- äº¤äº’å¼è¯äº‘
- æ–°é—»æµå±•ç¤º
- WebSocket å®æ—¶æ¨é€

## ğŸ“– æ–‡æ¡£å¯¼èˆª

### ğŸš€ å¿«é€Ÿå¼€å§‹
- **[å¿«é€Ÿå¯åŠ¨æŒ‡å—.md](å¿«é€Ÿå¯åŠ¨æŒ‡å—.md)** â­ - **3 æ­¥å¯åŠ¨ï¼Œ4 ä¸ªç»ˆç«¯ï¼Œ5 åˆ†é’Ÿè¿è¡Œ**

### ğŸ”§ æŠ€æœ¯æ–‡æ¡£
- [è‡ªåŠ¨æ•°æ®æ¸…ç†æœºåˆ¶è¯´æ˜.md](è‡ªåŠ¨æ•°æ®æ¸…ç†æœºåˆ¶è¯´æ˜.md) - 24 å°æ—¶æ•°æ®ä¿ç•™ç­–ç•¥
- [å­—æ®µä¸åŒ¹é…ä¿®å¤_idå­—æ®µ.md](å­—æ®µä¸åŒ¹é…ä¿®å¤_idå­—æ®µ.md) - æ•°æ®å­—æ®µè§„èŒƒ
- [ç³»ç»Ÿæ¶æ„å›¾.md](ç³»ç»Ÿæ¶æ„å›¾.md) - è¯¦ç»†æ¶æ„è¯´æ˜
- [æ•°æ®æµè¡”æ¥æ£€æŸ¥æŠ¥å‘Š.md](æ•°æ®æµè¡”æ¥æ£€æŸ¥æŠ¥å‘Š.md) - æ•°æ®æµæ£€æŸ¥

### ğŸ“‹ æ¨¡å—æ–‡æ¡£
- [Scraper å¿«é€Ÿå¼€å§‹](scraper/å¿«é€Ÿå¼€å§‹.md) - æ•°æ®é‡‡é›†æ¨¡å—
- [Visualization å¯åŠ¨æŒ‡å—](visualization/frontend/START_GUIDE.md) - å‰ç«¯æ¨¡å—
- [åç«¯æ¶æ„è¯´æ˜](visualization/backend/MIGRATION_SUMMARY.md) - åç«¯æ¶æ„

### ï¿½ é¡¹ç›®ç®¡ç†
- [é¡¹ç›®æ–‡ä»¶æ¸…å•.md](é¡¹ç›®æ–‡ä»¶æ¸…å•.md) - å®Œæ•´æ–‡ä»¶åˆ—è¡¨
- [æ£€æŸ¥æ¸…å•.md](æ£€æŸ¥æ¸…å•.md) - åŠŸèƒ½æ£€æŸ¥æ¸…å•
- [æ•´åˆå®Œæˆæ€»ç»“.md](æ•´åˆå®Œæˆæ€»ç»“.md) - é¡¹ç›®æ•´åˆè®°å½•

## ğŸ” ç³»ç»Ÿç›‘æ§

### å¥åº·æ£€æŸ¥

```bash
# åç«¯å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# ç³»ç»ŸçŠ¶æ€
curl http://localhost:8000/system/status

# Redis æ•°æ®æ£€æŸ¥
redis-cli -n 0 llen data_queue          # åŸå§‹æ•°æ®
redis-cli -n 1 llen clean_data_queue    # æ¸…æ´—åæ•°æ®
redis-cli -n 0 keys "processed_data:*"  # å¤„ç†ç»“æœ
```

### æ—¥å¿—ä½ç½®

| æ¨¡å— | æ—¥å¿—è·¯å¾„ | è¯´æ˜ |
|------|---------|------|
| Scraper | `scraper/logs/` | çˆ¬å–æ—¥å¿— |
| Cleaner | `cleaner/logs/` | æ¸…æ´—æ—¥å¿— |
| Processor | `processer/logs/` | åˆ†ææ—¥å¿— |
| Visualization | æ§åˆ¶å°è¾“å‡º | å®æ—¶æ—¥å¿— |

## â“ å¸¸è§é—®é¢˜

### âš ï¸ Cleaner æŠ¥é”™æ‰¾ä¸åˆ° NLTK æ•°æ®

**åŸå› **ï¼šæœªä¸‹è½½ NLTK è¯å…¸æ•°æ®

**è§£å†³**ï¼š
```bash
cd cleaner
python download_nltk.py
```

### âš ï¸ Redis è¿æ¥å¤±è´¥

**åŸå› **ï¼šRedis æœªå¯åŠ¨

**è§£å†³**ï¼š
```bash
# å¯åŠ¨ Redis
redis-server

# Windows ç”¨æˆ·
cd scraper
start_redis.bat
```

### âš ï¸ ä¾èµ–å®‰è£…å¤±è´¥

**è§£å†³**ï¼š
```bash
# å‡çº§ pip
pip install --upgrade pip

# é‡æ–°å®‰è£…
pip install -r requirements.txt
```

### âš ï¸ ç«¯å£è¢«å ç”¨

**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨ï¼ˆWindowsï¼‰
netstat -ano | findstr :8000

# æŸ¥çœ‹ç«¯å£å ç”¨ï¼ˆLinux/Macï¼‰
lsof -i :8000

# ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£æˆ–ç»ˆæ­¢å ç”¨è¿›ç¨‹
```

### âš ï¸ æ¨¡å—å¯åŠ¨åæ²¡ååº”

**åŸå› **ï¼šäº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œå„æ¨¡å—ç­‰å¾…ä¸Šæ¸¸é€šçŸ¥

**è§£å†³**ï¼š
1. ç¡®ä¿æŒ‰é¡ºåºå¯åŠ¨ï¼šScraper â†’ Cleaner â†’ Processor
2. ç­‰å¾… Scraper å®Œæˆçˆ¬å–ï¼ˆçº¦ 1-5 åˆ†é’Ÿï¼‰
3. è§‚å¯Ÿæ—¥å¿—è¾“å‡ºç¡®è®¤é€šçŸ¥å‘é€/æ¥æ”¶

### âš ï¸ å¦‚ä½•æ¸…ç©ºæ•°æ®é‡æ–°å¼€å§‹

```bash
# æ¸…ç©ºæ‰€æœ‰ Redis æ•°æ®
redis-cli flushall
```

**ğŸ“š æ›´å¤šé—®é¢˜è¯·æŸ¥çœ‹ [å¿«é€Ÿå¯åŠ¨æŒ‡å—.md](å¿«é€Ÿå¯åŠ¨æŒ‡å—.md)**

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Python 3.10
- FastAPI (Webæ¡†æ¶)
- Redis (æ•°æ®å­˜å‚¨)
- PyTorch + Transformers (BERTæ¨¡å‹)
- NLTK (æ–‡æœ¬å¤„ç†)

### å‰ç«¯
- Vue 3
- ECharts (å›¾è¡¨)
- Axios (HTTPå®¢æˆ·ç«¯)
- Vite (æ„å»ºå·¥å…·)

### æ•°æ®é‡‡é›†
- PRAW (Reddit)
- Feedparser (RSS)
- NewsAPI-Python
- snscrape (Twitter)

## ğŸ“ å¼€å‘è¯´æ˜

### è™šæ‹Ÿç¯å¢ƒ
ç»Ÿä¸€ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒåç§°: `cs5481project`

```bash
conda create -n cs5481project python=3.10 -y
conda activate cs5481project
```

### ä»£ç è§„èŒƒ
- Python: PEP 8
- JavaScript: ESLint
- æäº¤ä¿¡æ¯: ä½¿ç”¨æ¸…æ™°çš„æè¿°

### æµ‹è¯•
```bash
# è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰
pytest

# éªŒè¯æ¶æ„
cd visualization/backend
python verify_architecture.py
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¥ å›¢é˜Ÿ

æœ¬é¡¹ç›®ç”±å››ä¸ªæ¨¡å—å›¢é˜Ÿåä½œå®Œæˆï¼š
- **Scraper Team**: æ•°æ®é‡‡é›†
- **Cleaner Team**: æ•°æ®æ¸…æ´—
- **Processor Team**: æ•°æ®åˆ†æ
- **Visualization Team**: æ•°æ®å¯è§†åŒ–

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä»“åº“: https://github.com/Steiner2597/financial_news_real_time_trend_analysis_visualization
- Issueè·Ÿè¸ª: [GitHub Issues](https://github.com/Steiner2597/financial_news_real_time_trend_analysis_visualization/issues)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼**

æœ€åæ›´æ–°: 2025-10-27
