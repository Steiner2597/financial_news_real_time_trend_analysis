# é¡¹ç›®æ•´åˆæ€»ç»“

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. ç»Ÿä¸€Pythonç¯å¢ƒ
- **è™šæ‹Ÿç¯å¢ƒåç§°**: `cs5481project`
- **Pythonç‰ˆæœ¬**: 3.9-3.11ï¼ˆæ¨è3.10ï¼‰
- **ç»Ÿä¸€ä¾èµ–**: æ ¹ç›®å½• `requirements.txt`

### 2. æ•´åˆRedisé…ç½®
- **ç»Ÿä¸€é…ç½®æ–‡ä»¶**: `config.yaml`
- **æ•°æ®åº“åˆ†é…**:
  - DB0: Scraperè¾“å‡º + Processorè¾“å‡º + Visualizationè¯»å–
  - DB1: Cleanerè¾“å‡º + Processorè¾“å…¥
- **é”®åè§„èŒƒ**: ç»Ÿä¸€ä½¿ç”¨ `data_queue`, `clean_data_queue`, `processed_data:*`

### 3. åˆ›å»ºçš„æ–‡ä»¶

#### æ ¹ç›®å½•æ–°å¢æ–‡ä»¶
| æ–‡ä»¶å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `requirements.txt` | ä¾èµ– | ç»Ÿä¸€çš„Pythonä¾èµ–åŒ…åˆ—è¡¨ |
| `config.yaml` | é…ç½® | ç»Ÿä¸€çš„Rediså’Œé¡¹ç›®é…ç½® |
| `README.md` | æ–‡æ¡£ | é¡¹ç›®ä¸»æ–‡æ¡£ï¼ŒåŒ…å«å¿«é€Ÿå¼€å§‹ |
| `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md` | æ–‡æ¡£ | è¯¦ç»†çš„å®‰è£…ã€é…ç½®ã€å¯åŠ¨è¯´æ˜ |
| `é¡¹ç›®æ–‡ä»¶æ¸…å•.md` | æ–‡æ¡£ | å®Œæ•´çš„æ–‡ä»¶ç»“æ„è¯´æ˜ |
| `check_env.bat` | è„šæœ¬ | ç¯å¢ƒæ£€æŸ¥å’Œä¾èµ–å®‰è£… |
| `start_all.bat` | è„šæœ¬ | ä¸€é”®å¯åŠ¨æ‰€æœ‰æ¨¡å— |
| `stop_all.bat` | è„šæœ¬ | ä¸€é”®åœæ­¢æ‰€æœ‰æ¨¡å— |
| `sync_config.py` | å·¥å…· | é…ç½®åŒæ­¥å·¥å…· |

### 4. é…ç½®æ•´åˆå¯¹ç…§è¡¨

| æ¨¡å— | åŸé…ç½® | ç»Ÿä¸€åé…ç½® |
|------|--------|-----------|
| **Scraper** | `scraper/config.yaml`<br>`redis.db: 0` | âœ… ä¿æŒä¸å˜ |
| **Cleaner** | `cleaner/config_processing_dl.yaml`<br>`db_in: 0, db_out: 1` | âœ… ä¿æŒä¸å˜ |
| **Processor** | `processer/Analysis/config.py`<br>`db: 0` | âœ… éœ€ç¡®è®¤ï¼ˆè¾“å‡ºåˆ°DB0ï¼‰ |
| **Visualization** | `visualization/backend/app/config.py`<br>`REDIS_DB: 0` | âœ… å·²ä¿®æ”¹ï¼ˆä»1æ”¹ä¸º0ï¼‰ |

### 5. æ•°æ®æµæ ‡å‡†åŒ–

```
å®Œæ•´æ•°æ®æµ:
Scraper â†’ [DB0:data_queue] â†’ Cleaner â†’ [DB1:clean_data_queue] 
       â†’ Processor â†’ [DB0:processed_data:*] â†’ Visualization
```

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

### é¦–æ¬¡ä½¿ç”¨

```bash
# 1. ç¯å¢ƒæ£€æŸ¥å’Œä¾èµ–å®‰è£…
check_env.bat

# 2. ï¼ˆå¯é€‰ï¼‰åŒæ­¥é…ç½®åˆ°å„æ¨¡å—
python sync_config.py

# 3. ä¸€é”®å¯åŠ¨
start_all.bat
```

### æ—¥å¸¸ä½¿ç”¨

```bash
# å¯åŠ¨ç³»ç»Ÿ
start_all.bat

# åœæ­¢ç³»ç»Ÿ
stop_all.bat
```

### æ‰‹åŠ¨å¯åŠ¨ï¼ˆå¦‚éœ€è¦ï¼‰

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate cs5481project

# 2. å¯åŠ¨Redis
redis-server
# æˆ– cd scraper && start_redis.bat

# 3. ä¾æ¬¡å¯åŠ¨å„æ¨¡å—
cd scraper && python control_center.py
cd cleaner && python data_cleaner_module_dl.py
cd processer/Analysis && python main.py
cd visualization/backend && python -m backend.app.main
cd visualization/frontend && npm run dev
```

## ğŸ” éªŒè¯æ¸…å•

### ç¯å¢ƒéªŒè¯
- [ ] Python 3.9-3.11 å·²å®‰è£…
- [ ] Conda/venv è™šæ‹Ÿç¯å¢ƒ `cs5481project` å·²åˆ›å»º
- [ ] Redis æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] Node.js å’Œ npm å·²å®‰è£…ï¼ˆå‰ç«¯éœ€è¦ï¼‰

### ä¾èµ–éªŒè¯
```bash
conda activate cs5481project

# æ£€æŸ¥å…³é”®ä¾èµ–
python -c "import redis; print('âœ… redis')"
python -c "import fastapi; print('âœ… fastapi')"
python -c "import pandas; print('âœ… pandas')"
python -c "import nltk; print('âœ… nltk')"
```

### é…ç½®éªŒè¯
- [ ] å„æ¨¡å—Redisé…ç½®ä¸€è‡´ï¼ˆhost, portï¼‰
- [ ] æ•°æ®åº“åˆ†é…æ­£ç¡®ï¼ˆDB0, DB1ï¼‰
- [ ] é˜Ÿåˆ—åç§°ç»Ÿä¸€

### è¿è¡ŒéªŒè¯
```bash
# 1. æ£€æŸ¥Redis
redis-cli ping

# 2. æ£€æŸ¥åç«¯API
curl http://localhost:8000/health

# 3. è®¿é—®å‰ç«¯
# æµè§ˆå™¨: http://localhost:5173
```

## ğŸ“Š é…ç½®å¯¹ç…§

### Redisé…ç½®ï¼ˆç»Ÿä¸€æ ‡å‡†ï¼‰

```yaml
redis:
  host: localhost
  port: 6379
  password: null  # æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹
```

### æ•°æ®åº“ä½¿ç”¨

| DB | ç”¨é€” | æ•°æ®å†…å®¹ |
|----|------|---------|
| **DB0** | åŸå§‹æ•°æ® + æœ€ç»ˆç»“æœ | `data_queue`ï¼ˆåŸå§‹ï¼‰<br>`processed_data:*`ï¼ˆç»“æœï¼‰ |
| **DB1** | ä¸­é—´æ•°æ® | `clean_data_queue`ï¼ˆæ¸…æ´—åï¼‰ |

### é”®åè§„èŒƒ

| é”®å | ä½ç½® | è¯´æ˜ |
|------|------|------|
| `data_queue` | DB0 | Scraper â†’ Cleaner |
| `clean_data_queue` | DB1 | Cleaner â†’ Processor |
| `processed_data:*` | DB0 | Processor â†’ Visualization |

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. é…ç½®æ–‡ä»¶
å„æ¨¡å—ä¿ç•™äº†è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œæ ¹ç›®å½•çš„ `config.yaml` ä½œä¸ºå‚è€ƒé…ç½®ï¼š
- **Scraper**: `scraper/config.yaml`
- **Cleaner**: `cleaner/config_processing_dl.yaml`
- **Processor**: `processer/Analysis/config.py`
- **Visualization**: `visualization/backend/app/config.py`

### 2. å¯åŠ¨é¡ºåº
å¿…é¡»æŒ‰ç…§æ•°æ®æµé¡ºåºå¯åŠ¨ï¼š
1. Redisï¼ˆå¿…é¡»å…ˆå¯åŠ¨ï¼‰
2. Scraperï¼ˆæ•°æ®æºï¼‰
3. Cleanerï¼ˆæ¸…æ´—ï¼‰
4. Processorï¼ˆåˆ†æï¼‰
5. Visualization Backendï¼ˆAPIï¼‰
6. Visualization Frontendï¼ˆç•Œé¢ï¼‰

### 3. æ¨¡å—ç‹¬ç«‹æ€§
- å„æ¨¡å—å¯ä»¥ç‹¬ç«‹å¯åŠ¨å’Œè°ƒè¯•
- ä½†å®Œæ•´æ•°æ®æµéœ€è¦æ‰€æœ‰æ¨¡å—ååŒå·¥ä½œ
- å»ºè®®ä½¿ç”¨ `start_all.bat` ç¡®ä¿æ­£ç¡®çš„å¯åŠ¨é¡ºåº

### 4. ç¯å¢ƒä¸€è‡´æ€§
- æ‰€æœ‰æ¨¡å—ä½¿ç”¨åŒä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ `cs5481project`
- é¿å…åœ¨ä¸åŒç¯å¢ƒä¸­è¿è¡Œä¸åŒæ¨¡å—
- ä¾èµ–æ›´æ–°åéœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­é‡æ–°å®‰è£…

## ğŸš¨ å¸¸è§é—®é¢˜

### é—®é¢˜1: æ¨¡å—æ‰¾ä¸åˆ°ä¾èµ–
```
è§£å†³æ–¹æ¡ˆ:
1. ç¡®è®¤è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
   conda activate cs5481project
2. é‡æ–°å®‰è£…ä¾èµ–
   pip install -r requirements.txt
```

### é—®é¢˜2: Redisè¿æ¥å¤±è´¥
```
è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥Redisæ˜¯å¦è¿è¡Œ
   redis-cli ping
2. æ£€æŸ¥å„æ¨¡å—é…ç½®ä¸­çš„hostå’Œport
3. ä½¿ç”¨ sync_config.py ç»Ÿä¸€é…ç½®
```

### é—®é¢˜3: æ•°æ®ä¸æµåŠ¨
```
æ£€æŸ¥æ¸…å•:
â–¡ Redisæ­£å¸¸è¿è¡Œ
â–¡ å„æ¨¡å—æŒ‰é¡ºåºå¯åŠ¨
â–¡ æ£€æŸ¥å„æ¨¡å—æ—¥å¿—
â–¡ éªŒè¯Redisä¸­çš„æ•°æ®
  redis-cli
  SELECT 0
  KEYS *
```

### é—®é¢˜4: ç«¯å£å†²çª
```
é»˜è®¤ç«¯å£:
- Redis: 6379
- Backend: 8000
- Frontend: 5173

ä¿®æ”¹æ–¹æ³•:
- Backend: visualization/backend/app/config.py ä¸­ä¿®æ”¹ PORT
- Frontend: visualization/frontend/vite.config.js ä¸­ä¿®æ”¹ port
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **å¿«é€Ÿå¼€å§‹**: `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md`
- **é¡¹ç›®æ¦‚è¿°**: `README.md`
- **æ–‡ä»¶æ¸…å•**: `é¡¹ç›®æ–‡ä»¶æ¸…å•.md`
- **æ¨¡å—æ–‡æ¡£**: å„æ¨¡å—ç›®å½•ä¸‹çš„æ–‡æ¡£æ–‡ä»¶

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **éªŒè¯ç¯å¢ƒ**: è¿è¡Œ `check_env.bat`
2. **é…ç½®åŒæ­¥**: è¿è¡Œ `python sync_config.py`ï¼ˆå¯é€‰ï¼‰
3. **å¯åŠ¨ç³»ç»Ÿ**: è¿è¡Œ `start_all.bat`
4. **è®¿é—®ç•Œé¢**: http://localhost:5173
5. **æŸ¥çœ‹API**: http://localhost:8000/docs

## ğŸ™‹ éœ€è¦å¸®åŠ©ï¼Ÿ

1. æŸ¥çœ‹ `å¿«é€Ÿå¯åŠ¨æŒ‡å—.md` çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æ£€æŸ¥å„æ¨¡å—çš„æ—¥å¿—æ–‡ä»¶
3. ä½¿ç”¨ Redis å®¢æˆ·ç«¯æ£€æŸ¥æ•°æ®æµ
4. æäº¤ Issue åˆ°é¡¹ç›®ä»“åº“

---

**æ•´åˆå®Œæˆæ—¶é—´**: 2025-10-27

**æ•´åˆå†…å®¹**:
- âœ… ç»Ÿä¸€Pythonç¯å¢ƒï¼ˆcs5481projectï¼‰
- âœ… æ•´åˆä¾èµ–åŒ…ï¼ˆrequirements.txtï¼‰
- âœ… ç»Ÿä¸€Redisé…ç½®ï¼ˆconfig.yamlï¼‰
- âœ… åˆ›å»ºå¯åŠ¨è„šæœ¬ï¼ˆcheck_env.bat, start_all.batï¼‰
- âœ… ç¼–å†™å®Œæ•´æ–‡æ¡£ï¼ˆå¿«é€Ÿå¯åŠ¨æŒ‡å—.md, README.mdï¼‰

**é¡¹ç›®å·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨ï¼** ğŸ‰
